# ==========================================
# LAYER: SECURITY & INFRA
# SERVICE: WAF (SafeLine)
# ==========================================

networks: { riffle_network: { external: true } }
# WAF Will be enabled in production/staging environments 
# It will require its own PG, Redis, Detector, Management API services
# For simplicity, it is commented out here.
# services:
  # safeline-waf:
  #   image: chaitin/safeline-tengine:latest
  #   container_name: infra-waf
  #   ports: ["80:80", "443:443"]
  #   networks: [riffle_network]
  #   restart: always
  #   volumes:
  #     - ../secrets/certs:/etc/nginx/certs:ro
